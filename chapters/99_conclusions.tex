%!TEX root = ../main.tex

\chapter{Conclusions and Future Works}
\label{chp:conclusions}

This work has provided a comprehensive study on the impact that the high propagation delay experienced in non-terrestrial networks has in layer-2 protocols. In particular, focus has been posed on the scheduler and \ac{HARQ} protocol.

It was shown that propagation delay plays a crucial role in the performances of such networks, affecting both the efficiency and reliability of data transmission.

\section{Results}
\subsection{Scheduler}
The scheduler has to account for the propagation delay, therefore a redesign of certain mechanisms is mandatory.

\subsubsection{Scheduling with propagation delay}
This study has found (section \ref{sec:pd-sched-acc}) that the current scheduling with short advance (i.e. scheduling only a slot in advance: at time $t_0$ the schedule allocates the resources of time $t_0+1$ms) does not work in \ac{NTN} because the propagation delay itself is longer than the delay between the act of scheduling and the time for which the scheduling happens. 

The proposed solution uses information on the propagation delay to adjust the advance of the scheduling process. 

\subsubsection{BSR timer}

Another flaw discovered in the implementation of current \ac{NR} protocols in \ac{NTN} involves the periodic \ac{BSR} that the \ac{UE} keeps sending every 10ms (section \ref{sec:bsr-timer}). 

While this presents some benefits, it is not the intended behavior, therefore leaving the current implementation, albeit working, is far from an ideal choice.

The proposed solution consists of adapting the \ac{BSR} timer accordingly to the propagation delay, never allowing it to assume values smaller than a round-trip time. 

\subsubsection{Inflated BSR}
If the interval between the packets generated by the application is smaller than the \ac{RTT}, each \ac{BSR} will report the whole size of the transmission buffer, even though other \ac{SR} relative to packets already present in the buffer may be still in-flight. While leading to an overall lower latency, this vastly increases the amount of resources being wasted, since the \ac{UE} will find itself with many unnecessary transmission grants (Section \ref{sec:inf-bsr}).

The proposed solution is to limit the scheduling request that is triggered every time a packet arrives into the transmission buffer to the new data only.

\subsubsection{Reordering timer}
The conducted simulation campaigns have found that anytime a packet is fragmented and sent across multiple frames, a reordering and recomposition timer is activated at the \ac{gNB} side, which, however, is too short with respect to the large propagation delay in \ac{NTN}s, expiring before all the pieces of the packet have the chance to arrive (Section \ref{sec:reord-timer}).

The implemented solution was to extend such timer in order to account for the propagation delay.

\subsection{HARQ}
\subsubsection{Concurrent processes}
This work confirmed that the 16 maximum concurrent \ac{HARQ} processes allowed per user heavily limits the achievable throughput (section \ref{sec:harq-conc-proc}).

Different solutions have been proposed, including completely disabling the protocol as well as increasing the number of allowed concurrent processes.

Both these solutions have also been implemented in the simulator, evaluating scenarios with no \ac{HARQ}, then 16, 32, 64 and 100 maximum concurrent processes. 

It was found that increasing the number of processes allows for considerably higher throughputs, while disabling \ac{HARQ} is only feasible in conditions of high \ac{SNR}.

\section{Future work}

The preparation of this work required many simulations to be run and evaluated, and as expected some design problems emerged. With a thoughtful approach, each unexpected behavior was investigated and solutions were devised, implemented and tested.

While effort was made to provide more than a single solution, striving to look at the problems from different perspectives to find more than a single way to approach it, not all the possibilities were thoroughly explored, and some observations were made whenever it was felt that a point might benefit from additional work.

This section describes some possible future paths that might have the potential to improve the solutions proposed in this work, as well as different approaches which performances are still to be evaluated.

\paragraph{}
The current behavior of waiting for packets to arrive at the transmission buffer of the \ac{UE} before transmitting the \ac{SR} to the \ac{gNB} harshly impacts the experienced latency, since in the best-case scenario it at least adds a round-trip time of delay. While this is not a problem in terrestrial networks because base stations are relatively close to the \ac{UE}s that are serving, in \ac{NTN}s the added delay is noticeable. 

A predictive algorithm capable of visualizing patterns in the \ac{UE}-generated traffic, forecasting its behavior in the immediate future and preemptively sending \ac{SR} so that new packets will be able to be transmitted right away without additional delays would be of invaluable help in reducing the overall latency of the link.

Another field where a smart algorithm capable of predicting the future traffic needs of the \ac{UE} is the XXX.

\paragraph{}
Timers often represent a trade-off between higher performances and a more robust network. This is the reason behind the proposal of a dynamic approach when setting the values for \ac{BSR} periodic requests and reordering timer. Since the delay of \ac{NTN}s can experience large variations depending on the satellite orbit, configurable timers shall be preferred instead of using fixed values.

\paragraph{}
Regarding \ac{HARQ}, a dynamic way of enabling and disabling it on the fly based on channel quality indicators could be beneficial, since it was shown that high-\ac{SNR} scenarios performed better with \ac{HARQ} disabled, while conditions of low \ac{SNR} benefitted from having it enabled. Furthermore, section \ref{sec:proc-harq-prop-sol} described a more aggressive implementation of \ac{HARQ} that could improve the throughput. Future studies on the matter could explore this proposal, testing whether it would be beneficial or not.


\section{Conclusions}
It is clear that further research is needed to develop more effective strategies for managing propagation delay in non-terrestrial networks. This includes exploring new technologies, improving existing methodologies, and devising innovative network architectures.

Ultimately, this work aims to pave the way for future research and practical applications in the field of \ac{NTN}s, emphasizing the need for continuous innovation and adaptation to meet the evolving demands of modern communication systems. 

The findings of this thesis not only contribute to the existing body of knowledge on non-terrestrial networks but also pave the way for future research in this evolving field.